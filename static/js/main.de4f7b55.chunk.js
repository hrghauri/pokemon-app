(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{60:function(e,t,n){e.exports=n.p+"static/media/light-grey-terrazzo.37434414.png"},76:function(e,t,n){e.exports=n(95)},81:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),l=n.n(o),i=(n(81),n(67)),s=n(34),c=n(19),u=n(44),m=n(35),d=n(43),p=n(60),f=n.n(p),h="https://api.pokemontcg.io/v1/",k={getPokemonCardsByName:function(e){return fetch(h+"cards?name=".concat(e)).then(function(e){return e.json()}).then(function(e){return e.cards})},getPokemonCardsByExactName:function(e){return fetch(h+'cards?name="'.concat(e,'"')).then(function(e){return e.json()}).then(function(e){return e.cards})}},g=n(61);function y(e){var t=e.hasErrorOccured,n=e.error;return a.a.createElement("div",null,t&&a.a.createElement(g.Spring,{from:{opacity:0},to:{opacity:1},config:{duration:1500}},function(e){return a.a.createElement("div",{style:e},a.a.createElement("div",{style:v.root},a.a.createElement("div",null,"Error Occured."),a.a.createElement("div",null,n.message)))}))}var v={root:{color:"red"}},E=n(96),P=n(129),C=n(118),F=n(64),S=n.n(F);function O(e){var t=e.changePokemonName,n=e.searchPokemon,r=e.isDisabled,o=e.currentSearchPokemonName;return a.a.createElement("form",null,a.a.createElement(E.a,{style:b.root},a.a.createElement(P.a,{style:b.input,placeholder:"Search for your favourite Pokemon",inputProps:{"aria-label":"Search for your favourite Pokemon"},onChange:function(e){e.preventDefault(),t(e.target.value)},disabled:r,value:o}),a.a.createElement(C.a,{style:b.iconButton,"aria-label":"Search",type:"submit",onClick:function(e){e.preventDefault(),n()},disabled:r||0===o.length},a.a.createElement(S.a,null))))}var b={root:{padding:"2px 4px",display:"flex",alignItems:"center",width:300},input:{marginLeft:8,flex:1},iconButton:{padding:10}},x=n(68),N=n(119);function j(e){var t=e.pokemonCard,n=e.onPokemonCardClick;return a.a.createElement(N.a,{item:!0,xs:12,sm:6,md:3,style:{textAlign:"center"}},a.a.createElement("div",{className:"pokemon-Card"},a.a.createElement("img",{src:t.imageUrl,onClick:function(){return n(t.id)},alt:t.name})))}var L=n(128),T=n(120);function w(e){var t=e.numOfPages,n=e.currentPage,r=e.onPageSelect;return a.a.createElement("div",null,1!==n&&a.a.createElement(T.a,{variant:"contained",onClick:function(){r(n-1)}},"Previous"),1===n&&a.a.createElement(T.a,{variant:"contained",color:"secondary",disabled:!0},"Previous"),a.a.createElement(L.a,{value:n,onChange:function(e){var t=parseInt(e.target.value);r(t)}},function(){for(var e=[],n=1;n<=t;n++)e.push(n);return e.map(function(e){return a.a.createElement("option",{key:e,value:e},e)})}()),n!==t&&a.a.createElement(T.a,{variant:"contained",onClick:function(){r(n+1)}},"Next"),n===t&&a.a.createElement(T.a,{variant:"contained",color:"secondary",disabled:!0},"Next"))}var B=n(121),I=n(127),_=n(126);function V(e){var t=e.filterName,n=e.allFilteringValues,r=e.selectedFilteringValues,o=e.onFilterValueSelection,l=e.onFilterClose,i=e.open;e.anchorEL;return a.a.createElement(_.a,{open:i,onClose:function(){return l(t)}},n.map(function(e){return a.a.createElement("div",{key:e},a.a.createElement(B.a,null,e),a.a.createElement(I.a,{checked:r.includes(e),onChange:function(n){return r=t,a=e,l=n.target.checked,void o(r,a,l);var r,a,l}}))}))}var R=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e)))._getResetState=function(){if(n.props.pokemonCards.length>0){var e=n.props.pokemonCards.reduce(function(e,t){return t.types&&t.types.forEach(function(t){e[t]=!1}),e},{}),t=n.props.pokemonCards.reduce(function(e,t){return t.set&&(e[t.set]=!1),e},{});return{currentPage:1,filteredPokemonCardsList:n.props.pokemonCards,filters:{typesFilter:e,setsFilter:t},filtersOpen:[],anchorEL:{}}}return{currentPage:0,filteredPokemonCardsList:[],filters:{},filtersOpen:[],anchorEL:{}}},n._reset=function(){n.setState(n._getResetState())},n._getNumberOfPages=function(e){if(0===e)return 0;var t=e%n.state.maxPageSize,r=Math.floor(e/n.state.maxPageSize);return 0===t?r:r+1},n._applyTypesFilter=function(e,t){var n=Object.keys(e.typesFilter).reduce(function(t,n){return!0===e.typesFilter[n]&&t.push(n),t},[]);return 0===n.length?t:t.reduce(function(e,t){for(var r=t.types,a=!0,o=0;o<n.length;o++){if(!r){a=!1;break}if(!r.includes(n[o])){a=!1;break}}return a&&e.push(t),e},[])},n._applySetsFilter=function(e,t){var n=Object.keys(e.setsFilter).reduce(function(t,n){return!0===e.setsFilter[n]&&t.push(n),t},[]);return 0===n.length?t:t.reduce(function(e,t){var r=t.set;return n.includes(r)&&e.push(t),e},[])},n._applyFilterAndReturnFilteredList=function(e){return n._applyTypesFilter(e,n.props.pokemonCards)},n.handlePageSelect=function(e){n.setState({currentPage:e})},n.handleResetFilters=function(){n._reset()},n.handleFilter=function(e,t,r){var a=n.state.filters;a[e+"sFilter"][t]=r;var o=n._applyFilterAndReturnFilteredList(a);n.setState({filters:a,filteredPokemonCardsList:o,currentPage:1})},n.handleFilterClose=function(e){var t=n.state.filtersOpen.indexOf(e);-1!==t&&(n.state.filtersOpen.splice(t,1),n.setState({filtersOpen:n.state.filtersOpen}))},n.handleFilterOpen=function(e,t){var r=n.state.filtersOpen;r.push(e);var a=t.currentTarget;n.setState({filtersOpen:r,anchorEL:a})},n.renderTypesFilter=function(e){var t=Object.keys(n.state.filters.typesFilter).reduce(function(e,t){return!0===n.state.filters.typesFilter[t]&&e.push(t),e},[]);return n.state.filtersOpen.includes("type")?a.a.createElement(a.a.Fragment,{key:e},a.a.createElement(V,{filterName:"type",allFilteringValues:Object.keys(n.state.filters.typesFilter),selectedFilteringValues:t,onFilterValueSelection:n.handleFilter,onFilterClose:n.handleFilterClose,open:!0,anchorEL:n.state.anchorEL}),a.a.createElement(T.a,{key:e,variant:"contained",disabled:!0},"Types Filter")):a.a.createElement(T.a,{key:e,variant:"contained",onClick:function(e){return n.handleFilterOpen("type",e)}},"Types Filter")},n.renderSetsFilter=function(e){var t=Object.keys(n.state.filters.setsFilter).reduce(function(e,t){return!0===n.state.filters.setsFilter[t]&&e.push(t),e},[]);return n.state.filtersOpen.includes("set")?a.a.createElement(a.a.Fragment,{key:e},a.a.createElement(V,{filterName:"set",allFilteringValues:Object.keys(n.state.filters.setsFilter),selectedFilteringValues:t,onFilterValueSelection:n.handleFilter,onFilterClose:n.handleFilterClose,open:!0,anchorEL:n.state.anchorEL}),a.a.createElement(T.a,{key:e,variant:"contained",disabled:!0},"Set Filter")):a.a.createElement(T.a,{key:e,variant:"contained",onClick:function(e){return n.handleFilterOpen("set",e)}},"Set Filter")},n.renderResetFilter=function(e){return a.a.createElement("div",{key:e})},n.renderPokemonCardsList=function(e){for(var t=[],r=(n.state.currentPage-1)*n.state.maxPageSize,o=n.state.currentPage*n.state.maxPageSize-1,l=r;l<=o;l++)n.state.filteredPokemonCardsList[l]&&t.push(n.state.filteredPokemonCardsList[l]);return a.a.createElement("div",{className:"pokemon-cards-list",key:e},a.a.createElement(N.a,{container:!0,spacing:2},t.map(function(e){return a.a.createElement(j,{pokemonCard:e,onPokemonCardClick:n.props.onPokemonCardClick,key:e.id})})))},n.renderListFooter=function(e){var t=n._getNumberOfPages(n.state.filteredPokemonCardsList.length);if(0===t)return null;var r=n.state.currentPage;return a.a.createElement(w,{key:e,onPageSelect:n.handlePageSelect,numOfPages:t,currentPage:r})};var r=n._getResetState();return n.state=Object(x.a)({maxPageSize:8},r),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,[this.renderTypesFilter(1),this.renderResetFilter(2),this.renderPokemonCardsList(3),this.renderListFooter(4)])}}]),t}(r.Component),z=n(65),A=n(122),U=n(123),W=n(124),D=n(125),H=n(33),J=n(66),M=n.n(J);function $(e){var t=e.handlePopUpClose,n=e.pokemonCard,r=Object(z.a)(e,["handlePopUpClose","pokemonCard"]);return a.a.createElement(_.a,Object.assign({onClose:t},r,{fullWidth:!0,maxWidth:"sm"}),a.a.createElement(A.a,{id:n.id,style:{textAllign:"center",margin:"auto",color:"grey",textTransform:"uppercase",fontWeight:"300"}},n.name),a.a.createElement(C.a,{"aria-label":"Close",style:q.closeButton,onClick:t},a.a.createElement(M.a,null)),a.a.createElement(U.a,null,a.a.createElement(W.a,null),n.hp&&a.a.createElement("div",{style:{position:"absolute",left:"320px"}},a.a.createElement("span",null,"HP: "),a.a.createElement("span",null,n.hp)),n.types&&a.a.createElement("div",{style:{position:"absolute",left:"320px",top:"140px"}},a.a.createElement("span",null,"Types: "),n.types.map(function(e){return a.a.createElement("span",{key:e},e," ")})),n.set&&a.a.createElement("div",{style:{position:"absolute",left:"320px",top:"190px"}},a.a.createElement("span",null,"Set: "),a.a.createElement("span",null,n.set)),n.series&&a.a.createElement("div",{style:{position:"absolute",left:"320px",top:"240px"}},a.a.createElement("span",null,"Series: "),a.a.createElement("span",null,n.series)),a.a.createElement("div",null,a.a.createElement("img",{src:n.imageUrl,style:{width:"290px",height:"400px",display:"inline"},alt:n.name})),a.a.createElement(D.a,null,a.a.createElement(H.a,{variant:"body2",color:"textSecondary",component:"p"},n.text&&Array.isArray(n.text)&&n.text.length>0?n.text[0]:"No Text Available for this Pokemon."))))}var q={media:{paddingTop:"56.25%"},closeButton:{position:"absolute"}},G=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handlePokemonCardOnClick=function(e){n.setState({currentClickedPokemonCardId:e,isPopupOpen:!0})},n.handlePopupClose=function(){n.setState({currentClickedPokemonCardId:"",isPopupOpen:!1})},n.handleChangePokemonName=function(e){n.setState({currentSearchPokemonName:e})},n.handleSearchPokemon=function(){var e=function(e){n.setState({hasErrorOccured:!0,error:e},function(){setTimeout(function(){n.setState({hasErrorOccured:!1,error:{}})},2500)})};n.setState({isSearchInProgress:!0},function(){k.getPokemonCardsByExactName(n.state.currentSearchPokemonName).then(function(t){if(0===t.length){var r=new Error("No pokemons found by this name.");e(r)}else n.setState({pokemonCards:t})}).catch(function(t){e(t)}).finally(function(){var e=n.state.searchedPokemonTimesNegative-1;n.setState({isSearchInProgress:!1,searchedPokemonTimesNegative:e})})})},n.renderErrorHandlingComponent=function(e){return a.a.createElement(y,{hasErrorOccured:n.state.hasErrorOccured,error:n.state.error,key:e})},n.renderSearchBox=function(e){return a.a.createElement("div",{className:"pokemon-search-text-box",key:e},a.a.createElement(O,{key:e,currentSearchPokemonName:n.state.currentSearchPokemonName,isDisabled:n.state.isSearchInProgress,searchPokemon:n.handleSearchPokemon,changePokemonName:n.handleChangePokemonName}))},n.renderBottom=function(e){return 0===n.state.pokemonCards.length?a.a.createElement("div",{key:e,className:"bottom-text"},"Search for your favourite Pokemon!"):a.a.createElement(R,{pokemonCards:n.state.pokemonCards,onPokemonCardClick:n.handlePokemonCardOnClick,key:n.state.searchedPokemonTimesNegative})},n.renderPopUpIfNeccessary=function(e){if(n.state.isPopupOpen){var t=n.state.pokemonCards.filter(function(e){return n.state.currentClickedPokemonCardId===e.id}),r=Object(i.a)(t,1)[0];return a.a.createElement($,{handlePopUpClose:n.handlePopupClose,pokemonCard:r,key:e,open:!0})}return null},n.state={pokemonCards:[],isSearchInProgress:!1,currentSearchPokemonName:"",hasErrorOccured:!1,error:{},currentClickedPokemonCardId:"",isPopupOpen:!1,searchedPokemonTimesNegative:0},document.body.style="background-image:"+"url(".concat(f.a,")"),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"pokemon-app"},a.a.createElement("h1",null,"Pokemon Search app"),[this.renderErrorHandlingComponent(1),this.renderSearchBox(2),this.renderBottom(3),this.renderPopUpIfNeccessary(4)])}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[76,1,2]]]);
//# sourceMappingURL=main.de4f7b55.chunk.js.map